<xml xmlns="http://www.w3.org/1999/xhtml">
  <block type="procedures_callnoreturn" id="1430" x="-431" y="-548">
    <mutation name="Initialisation"></mutation>
    <next>
      <block type="controls_whileUntil" id="1431" inline="false">
        <field name="MODE">WHILE</field>
        <value name="BOOL">
          <block type="logic_boolean" id="1432">
            <field name="BOOL">TRUE</field>
          </block>
        </value>
        <statement name="DO">
          <block type="technozone_ds18b20" id="1433">
            <field name="PIN">14</field>
            <next>
              <block type="technozone_variables_set" id="1434" inline="true">
                <field name="VAR">Temperature</field>
                <value name="VALUE">
                  <block type="math_arithmetic" id="1435" inline="true">
                    <field name="OP">DIVIDE</field>
                    <value name="A">
                      <block type="technozone_ds18b20_gettemp" id="1436">
                        <field name="PIN">14</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="1437">
                        <field name="NUM">100</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type="technozone_variables_set" id="1438" inline="true">
                    <field name="VAR">Lumiere</field>
                    <value name="VALUE">
                      <block type="driss_A4_ldr" id="1439">
                        <field name="PIN">A3</field>
                      </block>
                    </value>
                    <next>
                      <block type="base_delay" id="1440" inline="true">
                        <value name="DELAY_TIME">
                          <block type="math_number" id="1441">
                            <field name="NUM">100</field>
                          </block>
                        </value>
                        <next>
                          <block type="controls_if" id="1442" inline="false">
                            <value name="IF0">
                              <block type="technozone_wf_available" id="1443"></block>
                            </value>
                            <statement name="DO0">
                              <block type="controls_if" id="1444" inline="false">
                                <value name="IF0">
                                  <block type="technozone_wf_btn" id="1445" inline="true">
                                    <value name="FIELD">
                                      <block type="math_number" id="1446">
                                        <field name="NUM">1</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <statement name="DO0">
                                  <block type="base_delay" id="1572" inline="true">
                                    <value name="DELAY_TIME">
                                      <block type="math_number" id="1573">
                                        <field name="NUM">1000</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="technozone_variables_set" id="1447" inline="true">
                                        <field name="VAR">LampePiece_1</field>
                                        <value name="VALUE">
                                          <block type="logic_negate" id="1448" inline="false">
                                            <value name="BOOL">
                                              <block type="technozone_variables_get" id="1449">
                                                <field name="VAR">LampePiece_1</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="technozone_wf_btn_reset" id="1450" inline="true">
                                            <value name="FIELD">
                                              <block type="math_number" id="1451">
                                                <field name="NUM">1</field>
                                              </block>
                                            </value>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <next>
                                  <block type="controls_if" id="1452" inline="false">
                                    <value name="IF0">
                                      <block type="technozone_wf_btn" id="1453" inline="true">
                                        <value name="FIELD">
                                          <block type="math_number" id="1454">
                                            <field name="NUM">7</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <statement name="DO0">
                                      <block type="base_delay" id="1591" inline="true">
                                        <value name="DELAY_TIME">
                                          <block type="math_number" id="1592">
                                            <field name="NUM">1000</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="technozone_variables_set" id="1455" inline="true">
                                            <field name="VAR">LampePiece_2</field>
                                            <value name="VALUE">
                                              <block type="logic_negate" id="1456" inline="false">
                                                <value name="BOOL">
                                                  <block type="technozone_variables_get" id="1457">
                                                    <field name="VAR">LampePiece_2</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="technozone_wf_btn_reset" id="1458" inline="true">
                                                <value name="FIELD">
                                                  <block type="math_number" id="1459">
                                                    <field name="NUM">7</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </statement>
                                    <next>
                                      <block type="controls_if" id="1460" inline="false">
                                        <value name="IF0">
                                          <block type="technozone_wf_switch" id="1461" inline="true">
                                            <field name="LOGIQUE">true</field>
                                            <value name="FIELD">
                                              <block type="math_number" id="1462">
                                                <field name="NUM">9</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <statement name="DO0">
                                          <block type="technozone_variables_set" id="1463" inline="true">
                                            <field name="VAR">Allumer_Lampe_Exterieur</field>
                                            <value name="VALUE">
                                              <block type="logic_boolean" id="1464">
                                                <field name="BOOL">TRUE</field>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                        <next>
                                          <block type="controls_if" id="1465" inline="false">
                                            <value name="IF0">
                                              <block type="technozone_wf_switch" id="1466" inline="true">
                                                <field name="LOGIQUE">false</field>
                                                <value name="FIELD">
                                                  <block type="math_number" id="1467">
                                                    <field name="NUM">9</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <statement name="DO0">
                                              <block type="technozone_variables_set" id="1468" inline="true">
                                                <field name="VAR">Allumer_Lampe_Exterieur</field>
                                                <value name="VALUE">
                                                  <block type="logic_boolean" id="1469">
                                                    <field name="BOOL">FALSE</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type="technozone_wf_reset" id="1470"></block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <next>
                              <block type="controls_if" id="1471" inline="false">
                                <mutation else="1"></mutation>
                                <value name="IF0">
                                  <block type="technozone_variables_get" id="1472">
                                    <field name="VAR">LampePiece_1</field>
                                  </block>
                                </value>
                                <statement name="DO0">
                                  <block type="driss_A4_eclairage" id="1473">
                                    <field name="STAT">HIGH</field>
                                    <field name="PIN">7</field>
                                    <next>
                                      <block type="technozone_wf_led" id="1474" inline="true">
                                        <field name="COLOR">yellow</field>
                                        <value name="FIELD">
                                          <block type="math_number" id="1475">
                                            <field name="NUM">2</field>
                                          </block>
                                        </value>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <statement name="ELSE">
                                  <block type="driss_A4_eclairage" id="1476">
                                    <field name="STAT">LOW</field>
                                    <field name="PIN">7</field>
                                    <next>
                                      <block type="technozone_wf_led" id="1477" inline="true">
                                        <field name="COLOR">none</field>
                                        <value name="FIELD">
                                          <block type="math_number" id="1478">
                                            <field name="NUM">2</field>
                                          </block>
                                        </value>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                                <next>
                                  <block type="controls_if" id="1479" inline="false">
                                    <mutation else="1"></mutation>
                                    <value name="IF0">
                                      <block type="technozone_variables_get" id="1480">
                                        <field name="VAR">LampePiece_2</field>
                                      </block>
                                    </value>
                                    <statement name="DO0">
                                      <block type="driss_A4_eclairage" id="1481">
                                        <field name="STAT">HIGH</field>
                                        <field name="PIN">4</field>
                                        <next>
                                          <block type="technozone_wf_led" id="1482" inline="true">
                                            <field name="COLOR">orange</field>
                                            <value name="FIELD">
                                              <block type="math_number" id="1483">
                                                <field name="NUM">8</field>
                                              </block>
                                            </value>
                                          </block>
                                        </next>
                                      </block>
                                    </statement>
                                    <statement name="ELSE">
                                      <block type="driss_A4_eclairage" id="1484">
                                        <field name="STAT">LOW</field>
                                        <field name="PIN">4</field>
                                        <next>
                                          <block type="technozone_wf_led" id="1485" inline="true">
                                            <field name="COLOR">none</field>
                                            <value name="FIELD">
                                              <block type="math_number" id="1486">
                                                <field name="NUM">8</field>
                                              </block>
                                            </value>
                                          </block>
                                        </next>
                                      </block>
                                    </statement>
                                    <next>
                                      <block type="controls_if" id="1487" inline="false">
                                        <value name="IF0">
                                          <block type="driss_A4_btn_white" id="1488">
                                            <field name="PIN">8</field>
                                          </block>
                                        </value>
                                        <statement name="DO0">
                                          <block type="technozone_variables_set" id="1489" inline="true">
                                            <field name="VAR">LampePiece_1</field>
                                            <value name="VALUE">
                                              <block type="logic_negate" id="1490" inline="false">
                                                <value name="BOOL">
                                                  <block type="technozone_variables_get" id="1491">
                                                    <field name="VAR">LampePiece_1</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                        <next>
                                          <block type="controls_if" id="1492" inline="false">
                                            <value name="IF0">
                                              <block type="driss_A4_btn_white" id="1493">
                                                <field name="PIN">15</field>
                                              </block>
                                            </value>
                                            <statement name="DO0">
                                              <block type="technozone_variables_set" id="1494" inline="true">
                                                <field name="VAR">LampePiece_2</field>
                                                <value name="VALUE">
                                                  <block type="logic_negate" id="1495" inline="false">
                                                    <value name="BOOL">
                                                      <block type="technozone_variables_get" id="1496">
                                                        <field name="VAR">LampePiece_2</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type="controls_if" id="1497" inline="false">
                                                <mutation else="1"></mutation>
                                                <value name="IF0">
                                                  <block type="driss_A4_pir" id="1498">
                                                    <field name="PIN">16</field>
                                                  </block>
                                                </value>
                                                <statement name="DO0">
                                                  <block type="technozone_wf_led" id="1499" inline="true">
                                                    <field name="COLOR">red</field>
                                                    <value name="FIELD">
                                                      <block type="math_number" id="1500">
                                                        <field name="NUM">11</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </statement>
                                                <statement name="ELSE">
                                                  <block type="technozone_wf_led" id="1501" inline="true">
                                                    <field name="COLOR">none</field>
                                                    <value name="FIELD">
                                                      <block type="math_number" id="1502">
                                                        <field name="NUM">11</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </statement>
                                                <next>
                                                  <block type="controls_if" id="1503" inline="false">
                                                    <mutation else="1"></mutation>
                                                    <value name="IF0">
                                                      <block type="technozone_variables_get" id="1504">
                                                        <field name="VAR">Allumer_Lampe_Exterieur</field>
                                                      </block>
                                                    </value>
                                                    <statement name="DO0">
                                                      <block type="driss_A4_eclairage" id="1505">
                                                        <field name="STAT">HIGH</field>
                                                        <field name="PIN">11</field>
                                                        <next>
                                                          <block type="technozone_wf_led" id="1506" inline="true">
                                                            <field name="COLOR">blue</field>
                                                            <value name="FIELD">
                                                              <block type="math_number" id="1507">
                                                                <field name="NUM">13</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </statement>
                                                    <statement name="ELSE">
                                                      <block type="controls_if" id="1508" inline="false">
                                                        <mutation else="1"></mutation>
                                                        <value name="IF0">
                                                          <block type="logic_compare" id="1509" inline="true">
                                                            <field name="OP">LT</field>
                                                            <value name="A">
                                                              <block type="technozone_variables_get" id="1510">
                                                                <field name="VAR">Lumiere</field>
                                                              </block>
                                                            </value>
                                                            <value name="B">
                                                              <block type="math_number" id="1511">
                                                                <field name="NUM">700</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <statement name="DO0">
                                                          <block type="controls_if" id="1512" inline="false">
                                                            <mutation else="1"></mutation>
                                                            <value name="IF0">
                                                              <block type="driss_A4_pir" id="1513">
                                                                <field name="PIN">16</field>
                                                              </block>
                                                            </value>
                                                            <statement name="DO0">
                                                              <block type="driss_A4_eclairage" id="1514">
                                                                <field name="STAT">HIGH</field>
                                                                <field name="PIN">11</field>
                                                                <next>
                                                                  <block type="technozone_wf_led" id="1515" inline="true">
                                                                    <field name="COLOR">blue</field>
                                                                    <value name="FIELD">
                                                                      <block type="math_number" id="1516">
                                                                        <field name="NUM">13</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </statement>
                                                            <statement name="ELSE">
                                                              <block type="driss_A4_eclairage" id="1517">
                                                                <field name="STAT">LOW</field>
                                                                <field name="PIN">11</field>
                                                                <next>
                                                                  <block type="technozone_wf_led" id="1518" inline="true">
                                                                    <field name="COLOR">none</field>
                                                                    <value name="FIELD">
                                                                      <block type="math_number" id="1519">
                                                                        <field name="NUM">13</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </statement>
                                                          </block>
                                                        </statement>
                                                        <statement name="ELSE">
                                                          <block type="driss_A4_eclairage" id="1520">
                                                            <field name="STAT">LOW</field>
                                                            <field name="PIN">11</field>
                                                            <next>
                                                              <block type="technozone_wf_led" id="1521" inline="true">
                                                                <field name="COLOR">none</field>
                                                                <value name="FIELD">
                                                                  <block type="math_number" id="1522">
                                                                    <field name="NUM">13</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                      </block>
                                                    </statement>
                                                    <next>
                                                      <block type="technozone_lcdwrite" id="1523" inline="false">
                                                        <field name="COL">0</field>
                                                        <field name="LIG">0</field>
                                                        <value name="TEXT">
                                                          <block type="text" id="1524">
                                                            <field name="TEXT">Temp :       (°C)</field>
                                                          </block>
                                                        </value>
                                                        <next>
                                                          <block type="technozone_lcdwrite" id="1525" inline="false">
                                                            <field name="COL">7</field>
                                                            <field name="LIG">0</field>
                                                            <value name="TEXT">
                                                              <block type="technozone_variables_get" id="1526">
                                                                <field name="VAR">Temperature</field>
                                                              </block>
                                                            </value>
                                                            <next>
                                                              <block type="technozone_wf_gauge" id="1527" inline="true">
                                                                <value name="FIELD">
                                                                  <block type="math_number" id="1528">
                                                                    <field name="NUM">3</field>
                                                                  </block>
                                                                </value>
                                                                <value name="POSITION">
                                                                  <block type="technozone_variables_get" id="1529">
                                                                    <field name="VAR">Temperature</field>
                                                                  </block>
                                                                </value>
                                                                <next>
                                                                  <block type="technozone_wf_gauge" id="1530" inline="true">
                                                                    <value name="FIELD">
                                                                      <block type="math_number" id="1531">
                                                                        <field name="NUM">4</field>
                                                                      </block>
                                                                    </value>
                                                                    <value name="POSITION">
                                                                      <block type="technozone_variables_get" id="1532">
                                                                        <field name="VAR">Lumiere</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </statement>
      </block>
    </next>
  </block>
  <block type="procedures_defnoreturn" id="1533" x="-984" y="-511">
    <mutation></mutation>
    <field name="NAME">Initialisation</field>
    <statement name="STACK">
      <block type="technozone_lcdinit" id="1534">
        <field name="I2C_adress">39</field>
        <field name="nbcol">16</field>
        <field name="nblig">2</field>
        <field name="backlight">TRUE</field>
        <field name="cursor">FALSE</field>
        <field name="blink">FALSE</field>
        <next>
          <block type="technozone_wf_init" id="1535">
            <field name="RXpin">9</field>
            <field name="TXpin">10</field>
            <next>
              <block type="technozone_wf_btn_reset" id="1536" inline="true">
                <value name="FIELD">
                  <block type="math_number" id="1537">
                    <field name="NUM">1</field>
                  </block>
                </value>
                <next>
                  <block type="technozone_wf_btn_reset" id="1538" inline="true">
                    <value name="FIELD">
                      <block type="math_number" id="1539">
                        <field name="NUM">7</field>
                      </block>
                    </value>
                    <next>
                      <block type="technozone_declare_var" id="1540">
                        <field name="VAR">Temperature</field>
                        <field name="TYPE">int</field>
                        <next>
                          <block type="technozone_declare_var" id="1541">
                            <field name="VAR">Lumiere</field>
                            <field name="TYPE">int</field>
                            <next>
                              <block type="technozone_declare_var" id="1542">
                                <field name="VAR">LampePiece_1</field>
                                <field name="TYPE">boolean</field>
                                <next>
                                  <block type="technozone_declare_var" id="1543">
                                    <field name="VAR">LampePiece_2</field>
                                    <field name="TYPE">boolean</field>
                                    <next>
                                      <block type="technozone_declare_var" id="1544">
                                        <field name="VAR">Allumer_Lampe_Exterieur</field>
                                        <field name="TYPE">boolean</field>
                                        <next>
                                          <block type="technozone_variables_set" id="1545" inline="true">
                                            <field name="VAR">Temperature</field>
                                            <value name="VALUE">
                                              <block type="math_number" id="1546">
                                                <field name="NUM">0</field>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="technozone_variables_set" id="1547" inline="true">
                                                <field name="VAR">Lumiere</field>
                                                <value name="VALUE">
                                                  <block type="math_number" id="1548">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type="technozone_variables_set" id="1549" inline="true">
                                                    <field name="VAR">LampePiece_1</field>
                                                    <value name="VALUE">
                                                      <block type="logic_boolean" id="1550">
                                                        <field name="BOOL">FALSE</field>
                                                      </block>
                                                    </value>
                                                    <next>
                                                      <block type="technozone_variables_set" id="1551" inline="true">
                                                        <field name="VAR">LampePiece_2</field>
                                                        <value name="VALUE">
                                                          <block type="logic_boolean" id="1552">
                                                            <field name="BOOL">FALSE</field>
                                                          </block>
                                                        </value>
                                                        <next>
                                                          <block type="technozone_variables_set" id="1553" inline="true">
                                                            <field name="VAR">Allumer_Lampe_Exterieur</field>
                                                            <value name="VALUE">
                                                              <block type="logic_boolean" id="1554">
                                                                <field name="BOOL">FALSE</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
</xml>